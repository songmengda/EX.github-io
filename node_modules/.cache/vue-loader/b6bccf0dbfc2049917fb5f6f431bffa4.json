{"remainingRequest":"/Users/songmengda/Desktop/my/mygithub/yudi-canvas/yudi-canvas/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/songmengda/Desktop/my/mygithub/yudi-canvas/yudi-canvas/src/pages/rain01.vue?vue&type=style&index=0&lang=less&rel=stylesheet%2Fless&scope=true&","dependencies":[{"path":"/Users/songmengda/Desktop/my/mygithub/yudi-canvas/yudi-canvas/src/pages/rain01.vue","mtime":1556529148081},{"path":"/Users/songmengda/Desktop/my/mygithub/yudi-canvas/yudi-canvas/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songmengda/Desktop/my/mygithub/yudi-canvas/yudi-canvas/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/songmengda/Desktop/my/mygithub/yudi-canvas/yudi-canvas/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/songmengda/Desktop/my/mygithub/yudi-canvas/yudi-canvas/node_modules/less-loader/dist/cjs.js","mtime":1556522973372},{"path":"/Users/songmengda/Desktop/my/mygithub/yudi-canvas/yudi-canvas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/songmengda/Desktop/my/mygithub/yudi-canvas/yudi-canvas/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@r: 100;\n* {\n  padding: 0;\n  margin: 0;\n}\nhtml,\nbody {\n  height: 100%;\n  overflow: hidden;\n}\n#canvas {\n  width: 100%;\n  height: 100%;\n  background: #000;\n  display: block;\n}\n",{"version":3,"sources":["rain01.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"rain01.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <!-- canvas的width和height是他的属性，并不是单纯的css -->\n    <canvas id=\"canvas\">您的浏览器不支持canvas标签</canvas>\n  </div>\n</template>\n\n<script>\n// import { queryCoupon } from '@/api/service.js'\nexport default {\n  components: {},\n\n  data () {\n    return {\n    }\n  },\n\n  computed: {},\n\n  mounted () { },\n\n  created () {\n    this.$nextTick(function () {\n      //说明 画布的默认值是300 * 150\n      var can = document.getElementById('canvas');\n      //设置绘图环境  是2d还是3d\n      var cxt = can.getContext('2d');\n      //获取浏览器窗口的宽高\n      var w = can.width = window.innerWidth\n      var h = can.height = window.innerHeight\n      //让画布的宽高跟随浏览器窗口的变化而变化\n      window.onresize = function () {\n        w = can.width = window.innerWidth\n        h = can.height = window.innerHeight\n      }\n\n      //设置画笔的颜色\n      // cxt.fillStyle='red';\n      //绘制矩形\n      //cxt.fillRect(0,0,100,100);//绘制的坐标点 x y   宽和高w h\n      //cxt.fill() 填充方法 （实心儿的）cxt.stroke() 触笔方法（空心的）\n      //cxt.rect(x,y,w,h) 规定矩形的路径 \n      //绘制圆形\n      //设置圆形的路径\n      //cxt.arc(250,250,50,0,Math.PI*2,false);//圆心坐标：x，y ，半径r，\n      // 从0度角绘制到360度（必须是弧度制 :Math.PI*角度/180） ，逆时针\n      //cxt.fill() //绘制一下\n      // var x=100 ,y=0\n      /*\n      setInterval(()=>{\n          y++\n          cxt.clearRect(0, 0, w, h);//清楚之前画布的内容\n          \n          cxt.fillRect(x,y,50,50)\n      },1000/60)\n      */\n      /*\n      function move(){\n          y++\n          cxt.clearRect(0, 0, w, h);//清楚之前画布的内容\n          cxt.fillRect(x,y,50,50)\n          requestAnimationFrame(move)//原生js的经动画\n      }\n      move()\n      */\n\n\n      var drops = []//用来保存所有的雨滴实例对象\n\n      //创建雨滴对象\n      function Drop () { }\n      Drop.prototype = {\n        init: function () {//初始化方法（设置每个雨滴的初始属性）\n          this.x = random(0, w)   //水平方向上的距离\n          this.y = 0\n          //y方向的速度值\n          this.vy = random(4, 5)\n          this.l = random(0.8 * h, 0.9 * h)//雨滴夏下落的高度为浏览器80%-90%的高度\n          //波纹半径\n          this.r = 1;\n          this.vr = 1;//半径的增大的速度\n\n          //判断雨滴消失的透明度\n          this.a = 1  //=>0\n          this.va = 0.96  //透明度的变化系数\n        },\n        draw: function () {//绘制图形\n\n          if (this.y > this.l) {//雨滴下落到指定位置 开始绘制圆形\n\n            cxt.beginPath();//先初始化开始路径\n\n            cxt.arc(this.x, this.y, this.r, 0, Math.PI * 2, false)\n\n            cxt.strokeStyle = 'rgba(0,255,255,' + this.a + ')';\n\n            cxt.stroke();\n\n          } else {\n            cxt.fillStyle = 'rgb(0,255,255)';\n            cxt.fillRect(this.x, this.y, 2, 10);\n          }\n          this.updata()//每绘制完成一次就更新一次坐标       \n\n        },\n        updata: function () { //更新坐标的位置\n          if (this.y < this.l) {\n            this.y += this.vy\n          } else { //雨滴下落到达指定位置，开始画圆\n            if (this.a > 0.03) {\n              this.r += this.vr\n              if (this.r > 50) {\n                this.a *= this.va\n              }\n            } else {\n              //重新初始化雨滴数据\n              this.init()\n            }\n          }\n        }\n      }\n\n      //新建一个雨滴实例化对象  这个drop拥有init和draw的方法\n      //var drop =new Drop();\n      //drop.init()//初始化\n      //drop.draw()//绘制\n      for (var i = 0; i < 30; i++) {\n        setTimeout(() => { //每一个雨滴延迟200毫秒\n          var drop = new Drop();\n          drop.init();\n          drops.push(drop);\n        }, i * 300);\n      }\n\n      function move () {\n        //先绘制透明层，再绘制雨滴 雨滴就把先绘制的透明层覆盖，下一次在绘制透明层，就会把之前绘制的\n        // 雨滴覆盖  若干透明层叠加就越来越不透明了\n        cxt.fillStyle = 'rgba(0,0,0,0.1)'\n        cxt.fillRect(0, 0, w, h)\n        for (var i = 0; i < drops.length; i++) {\n          drops[i].draw()\n        }\n        requestAnimationFrame(move);//原生js的经动画 (执行递归)  \n      }\n      move()\n\n      //生成随机数的方法\n      function random (min, max) {\n        return Math.random() * (max - min) + min;//生成一个最大值到最小值之间的一个随机数\n      }\n    })\n  },\n\n  methods: {}\n\n}\n\n</script>\n<style lang=\"less\"  rel=\"stylesheet/less\" scope type=\"text/less\">\n@r: 100;\n* {\n  padding: 0;\n  margin: 0;\n}\nhtml,\nbody {\n  height: 100%;\n  overflow: hidden;\n}\n#canvas {\n  width: 100%;\n  height: 100%;\n  background: #000;\n  display: block;\n}\n</style>"]}]}